<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.community.backend.post.dao.PostDao">

  <insert id="insertPost" parameterType="postDTO">
    INSERT INTO POST (
      POST_ID,
      CATEGORY_ID,
      AUTHOR_ID,
      TITLE,
      CONTENT,
      VIEW_COUNT,
      LIKE_COUNT,
      COMMENT_COUNT,
      IS_DELETED,
      CREATED_AT,
      UPDATED_AT
    ) VALUES (
      POST_SEQ.NEXTVAL,
      #{categoryId},
      #{authorId},
      #{title},
      #{content},
      #{viewCount},
      #{likeCount},
      #{commentCount},
      #{isDeleted},
      SYSDATE,
      SYSDATE
    )
  </insert>

  <select id="selectPostSeqCurrval" resultType="long">
    SELECT POST_SEQ.CURRVAL FROM DUAL
  </select>

</mapper>
